<html>

<head>
    <title>ICX Staking Reward Calculator</title>
    <meta name="description" content="Use this calculator to calcluate rewards for staking ICX.">
    <meta name="og:title" property="og:title" content="ICX Staking Reward Calculator">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-48437220-19"></script>
</head>
<nav class="navbar navbar-custom">
  <a class="navbar-brand" href="https://rhizomeicx.com/"/><img src="./images/rhizomebanner.png" width="150" height="30" alt="RHIZOME"></a> <span class="sub-brand">ICON P-Rep Candidate </span>
</nav>
<body>

<div class="container">
 <h1 class="title">ICX Staking Reward Calculator</h1>
        <div class="description" style="margin-top:5%; margin-bottom:5%">
            <span>This tool calculates the expected ICX rewards for staking to all three categories (representatives, DApps, and EEPs). </br/> </span>
            Click <a href="https://decrypto.net/icons-icx-staking-reward-model/">here</a> to learn more about ICON's staking reward model.  </span> 
        </div>
		
  <div class="row">
    <div class="col-xs-6 col-md-5 border border-info box-layout-stake">
      <h2>Stake</h2>
      <form name="F1" onsubmit="return func()">
		  <div class="form-group">
			 <label for="exampleFormControlInput1">ICX Staked </label>
		   <input type="text" name="T1" class="form-control form-control-lg float-right" id="exampleFormControlInput1" placeholder="eg 10000">
			<small id="emailHelp" class="form-text text-muted">The amount of ICX you will stake.</small>
		  </div>
		  <div class="form-group">
			<label for="exampleFormControlInput2">% Network Staked: </label>
			<input type="text" name="T2" class="form-control form-control-lg float-right" id="exampleFormControlInput2" placeholder="eg. 30">
			  <small id="tooltip" class="form-text text-muted">Staked ICX divided by the total supply of ICX. Early estimates suggest a figure of 30%.</small>
		  </div>
		  <div class="form-check">
		  <button type="submit" id="calculate" class="btn btn-lg btn-color">Calculate</button>
		</form>

       </div>
     </div>
    <div class="col-xs-6 col-md-5 border border-info box-layout-return">
      <h2>Returns</h2>
       
	   <form name="F2">
	    <div class="row">
		    <div class="col">
				<h4 class="float-left"> ICX/Year: </h4>
		    </div>
			 <div class="col">
				<strong><span id="T5" name="T5" class="float-right"> </span></strong>
			</div>	
			</div>
			<div class="row">
				<div class="col">
					<h4 class="float-left"> ICX/Month: </h4>
				</div>
				<div class="col">
					<strong><span id="T6" name="T6" class="float-right">  </span></strong>
				</div>	
		   </div>
			<div class="row">
			  <div class="col">
				<h4 class="float-left"> Yearly Rate: </h4> 
			</div>
			 <div class="col">
				<strong><span id="T3" name="T3" class="float-right"> </span></strong>
			 </div>	
		    </div>
			<div class="row">
			 <div class="col">
				<h4 class="float-left"> *Period : </h4>
			</div>
			 <div class="col">
			   <strong><span id="T4" name="T4" class="float-right"> </span></strong>
			  </div>
		   </div>
        </form>
		
		<small class="form-text text-muted">* The number of days your initial ICX stake is locked up. The unstaking period is not the amount of days before you can receive rewards. </small>
		
		
    </div>
  </div>
</div>

	<footer>
	  <a href="https://twitter.com/RhizomeICX" target="_blank"><i class="fa fa-lg fa-twitter float-right"></i> </a>
	  <a href="https://t.me/RhizomeICX" target="_blank"><i class="fa fa-lg fa-telegram float-right"></i> </a>
	  <a href="https://github.com/rhizomeicx" target="_blank"><i class="fa fa-lg fa-github float-right"></i> </a>
	</footer>

</body>
 <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-48437220-19');
    </script>

    <script type="text/javascript">
        function func() {
            let rMax = 0.12;
            let rMin = 0.02;
            let rPoint = 0.7;
            let lMin = 5;
            let lMax = 20;
            let icxHoldings = parseFloat(document.F1.T1.value);
            let percentStaked = parseFloat(document.F1.T2.value);
            let rRep = ((rMax - rMin) / (Math.pow(rPoint, 2))) * (Math.pow(percentStaked / 100 - rPoint, 2)) + rMin;
            let lPeriod = ((lMax - lMin) / (Math.pow(rPoint, 2))) * (Math.pow(percentStaked / 100 - rPoint, 2)) + lMin;

            if (percentStaked > 70) {
                rRep = 0.02;
            }
            if (percentStaked > 70) {
                lPeriod = 5;
            }

            let totalRewardRate = rRep * 3 * 100;
            let icxYearlyReward = (totalRewardRate * icxHoldings) / 100;
            let icxMonthlyReward = icxYearlyReward / 12;

            if (percentStaked < 70 && percentStaked >= 0) {
                document.getElementById('T3').innerHTML = "~" + Math.round(totalRewardRate * 100) / 100 + "% per year";
                document.getElementById('T4').innerHTML = "~" + Math.round(lPeriod * 100) / 100 + " days";
                document.getElementById('T5').innerHTML = "~" + Math.round(icxYearlyReward * 100) / 100 + " ICX per year";
                document.getElementById('T6').innerHTML = "~" + Math.round(icxMonthlyReward * 100) / 100 + " ICX per month";

            } else if (percentStaked >= 70 && percentStaked <= 100) {
                document.getElementById('T3').innerHTML = Math.round(totalRewardRate * 100) / 100 + "% per year";
                document.getElementById('T4').innerHTML = Math.round(lPeriod * 100) / 100 + " days";
                document.getElementById('T5').innerHTML = "~" + Math.round(icxYearlyReward * 100) / 100 + " ICX per year";
                document.getElementById('T6').innerHTML = "~" + Math.round(icxMonthlyReward * 100) / 100 + " ICX per month";

            } else {
                document.getElementById('T3').innerHTML = percentStaked + "% is IMPOSSIBLE";
                document.getElementById('T4').innerHTML = percentStaked + "% is IMPOSSIBLE";
                document.getElementById('T5').innerHTML = percentStaked + "% is IMPOSSIBLE";
                document.getElementById('T6').innerHTML = percentStaked + "% is IMPOSSIBLE";
            }
			
		return false;	
        }
    </script>
</html>
